name: test
on:
  push:
    branches:
    - main
    tags:
    - v*
  pull_request:

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout the repo
      uses: actions/checkout@v3
    - name: Setup python 3.10
      uses: actions/setup-python@v2
      with:
          python-version: "3.10"
    #- name: docker build
    #  run: |
    #    docker build . -f Dockerfile
    - name: Install dependencies
      run: |
       python -m ensurepip
       python -m pip install lsst-daf-butler
    #- name: install lsstinstall
    #  run: |
    #  curl -OL https://ls.st/lsstinstall 
    #  chmod u+x lsstinstall 
    #  ./lsstinstall -T v19_0_0
    - name: Test with unittest
      run: |
       cd ./tests
       python test_move_embargo_args.py
